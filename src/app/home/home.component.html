<div class="example-button-row">
  <button
    (click)="drawer.toggle(); selectTestCase('all')"
    mat-raised-button
    color="warn"
  >
    Toggle All Snapshots
  </button>
  <a routerLink="/all-snapshot">
    <button mat-raised-button color="warn">Navigate to All Snapshots</button></a
  >
</div>
<mat-drawer-container class="example-container" autosize>
  <mat-drawer #drawer class="example-sidenav" mode="side">
    <mat-list>
      <mat-list-item
        *ngFor="let snapshot of filteredSnapshotsLinks; let i = index"
      >
        <img (click)="openDialog(i)" src="{{ snapshot }}" alt="" srcset="" />
      </mat-list-item>
    </mat-list>
  </mat-drawer>

  <div class="example-sidenav-content">
    <mat-accordion *ngFor="let case of testCases; let i = index">
      <mat-expansion-panel
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>
            <u>{{ case.title }}</u
            >; {{ case.description }}
          </mat-panel-title>
        </mat-expansion-panel-header>
        <hr />
        <div class="hidden-part" *ngFor="let step of case.steps; let i = index">
          <p></p>
          <p>
            <span style="color: rgba(255, 255, 255, 0.5)">[{{ i + 1 }}]</span>
            {{ step }}
          </p>
        </div>
        <div fxLayout="row" fxLayoutAlign="space-between center">
          <div>{{ case.outcome }}</div>
          <div>
            <button
              style="margin-right: 10px"
              id="drawer_toggle"
              (click)="drawer.toggle(); selectTestCase(i)"
              mat-raised-button
              color="basic"
              aria-label="open and preselect Snapshots"
            >
              Toggle {{ getSnapshotCount(i) }}
            </button>
            <mat-radio-group
              value="{{ case.result }}"
              aria-label="Select an option"
              (change)="case.result = $event.value"
            >
              <mat-radio-button
                color="warn"
                [class.yellow]="case.result == 0"
                [class.gray]="case.result != 0"
                value="0"
                >pending</mat-radio-button
              >
              <mat-radio-button
                color="accent"
                [class.red]="case.result == 1"
                [class.gray]="case.result != 1"
                value="1"
                >failed</mat-radio-button
              >
              <mat-radio-button
                color="primary"
                [class.green]="case.result == 2"
                [class.gray]="case.result != 2"
                value="2"
                >success</mat-radio-button
              >
            </mat-radio-group>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</mat-drawer-container>
